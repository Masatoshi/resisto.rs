<!DOCTYPE html>
<meta charset="utf-8">
<title>resisto.rs</title>
<link rel="stylesheet" href="styles.css">
<!--[if lt IE 9]><script src="html5shiv.js"><![endif]-->

<h1>resisto.rs</h1>

<input id="resistor-query" placeholder="e.g. 3.3K">
<label class="resistor-query-label" for="resistor-query">&#8486;</label>

<div id="resistor-result" style="display:none">
  <div class="resistor-diagram">
    <span id="resistor-stripe-1" class="resistor-stripe"></span>
    <span id="resistor-stripe-2" class="resistor-stripe"></span>
    <span id="resistor-stripe-3" class="resistor-stripe"></span>
    <span id="resistor-stripe-4" class="resistor-stripe"></span>
  </div>
  <small>resistor colors, followed by a gap and tolerance color</small>
</div>

<footer>
  a color code utility by <a href="http://joewalnes.com" target="_blank">Joe Walnes</a>
  (<a href="https://twitter.com/joewalnes" target="_blank">@joewalnes</a>)<br>
  <a href="https://github.com/joewalnes/resisto.rs/" target="_blank">fork me on github</a>
</footer>

<script src="analytics.js"></script>
<script src="resistors.js"></script>
<script>
  var queryEl  = document.getElementById('resistor-query'),
  resultEl = document.getElementById('resistor-result');
  queryEl.onchange = queryEl.onkeyup = function() {
    location.hash = encodeURIComponent(queryEl.value);
    var result = resistors.query(queryEl.value);
    if (result) {
      resultEl.style.display = 'block';
      for (var i = 0; i < result.colors.length; i++) {
        var color = result.colors[i];
        var stripeEl = document.getElementById('resistor-stripe-' + (i + 1));
        stripeEl.style.backgroundColor = color.hex;
        stripeEl.style.color = color.label;
        stripeEl.innerHTML = color.name;
      }
    } else {
      resultEl.style.display = 'none';
    }
  };
  if (location.hash) {
    queryEl.value = decodeURIComponent(location.hash.substring(1));
    queryEl.onchange();
  }
  window.onhashchange = function() {
    queryEl.value = decodeURIComponent(location.hash.substring(1));
    queryEl.onchange();
  };
  queryEl.focus();
</script>
